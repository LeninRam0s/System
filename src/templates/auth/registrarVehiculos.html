{% extends './base_Menu.html'%}

{% block title %}Delitos contra el Patrimonio{% endblock %}

{% block customCSS %}
<link rel="stylesheet"
    href="{{ url_for('static', filename='css/incidencia.css')}}">

{% endblock %}

{% block body %}

<div
    class="container">

    <div class="formulario">

        <p style="text-align:center;">
            <img src="{{ url_for('static', filename='img/vehiculo.png') }}"
                alt="Imagen de Usuario" width="250" height="80">
        </p>
        <h2>Registro de Vehículos y Motocicletas Robadas</h2>

        <form class="form-signin" id="Registro" action="/addV" method="POST">
            <!-- Primer Fila -->
            <div class="form-row">
                <div class="col-md-3">
                    <div class="form-floating">
                        <input type="date" class="form-control"
                            id="floatingInput" name="txtFecha" required>
                        <label for="floatingInput">Fecha <span
                                class="text-danger">*</span></label>
                        <div class="invalid-feedback">Seleccione una fecha
                            válida.</div>
                    </div>

                </div>
                <div class="col-md-3">
                    <div class="form-floating">
                        <input type="time" class="form-control"
                            id="floatingHora" name="txtHora" required>
                        <label for="floatingHora">Hora <span class="text-danger">*</span></label>
                        <div class="invalid-feedback">Ingrese una hora válida.</div>
                    </div>

                </div>
                <div class="col-md-3">
                    <div class="form-floating">
                        <input type="text" class="form-control"
                            id="floatingDireccion" name="txtDireccion"
                            placeholder="Ejemplo: Calle 123, Ciudad"
                            pattern="^[A-Za-z0-9\s,'-]*$" required>
                        <label for="floatingDireccion">Dirección <span
                                class="text-danger">*</span></label>
                        <div class="invalid-feedback">Ingrese una dirección
                            válida.</div>
                    </div>

                </div>
            </div>
            <!-- Segunda Fila -->
            <div class="form-row">
                <div class="col-md-3">
                    <div class="form-floating">
                        <input type="text" class="form-control"
                            id="floatingCoordenadas" name="txtCoordenadas"
                            placeholder="Ejemplo: 14.634915, -90.506882"
                            pattern="^([1-8]?\d(\.\d+)?|90(\.0+)?),\s*-\d{1,3}(\.\d+)?$"
                            required>
                        <label for="floatingCoordenadas">Coordenadas (Latitud,
                            Longitud) <span class="text-danger">*</span></label>
                        <div class="invalid-feedback">Ingrese coordenadas
                            válidas en el formato: latitud, longitud (por
                            ejemplo, 14.634915, -90.506882).</div>
                    </div>

                </div>
                <div class="col-md-3">
                    <div class="form-floating">
                        <input type="text" class="form-control"
                            id="floatingNombreCompleto" name="txtNombre"
                            placeholder="Ejemplo: Juan Pérez"
                            pattern="^[A-Za-záéíóúÁÉÍÓÚñÑ\s]+$"
                            required>
                        <label for="floatingNombreCompleto">Nombre Completo
                            <span class="text-danger">*</span></label>
                        <div class="invalid-feedback">Ingrese un nombre completo
                            válido (nombres y apellidos).</div>
                    </div>

                </div>
                <div class="col-md-3">
                    <div class="form-floating">
                        <input type="text" class="form-control"
                            id="floatingEdad" name="txtEdad"
                            placeholder="Ejemplo: 25"
                            pattern="^\d+$"
                            required>
                        <label for="floatingEdad">Edad <span class="text-danger">*</span></label>
                        <div class="invalid-feedback">Ingrese la edad en años.
                            Ej. 18, si es menor a 6 meses o se desconoce
                            ingresar 0 y si es mayora a 6 meses 1.</div>
                    </div>

                </div>
            </div>
            <!-- Tercer Fila -->
            <div class="form-row ">
                <div class="col-md-3">
                    <div class="form-floating">
                        <select class="form-select" id="floatingSexo"
                            name="txtSexo" required>
                            <option value disabled selected>Seleccionar Genero</option>
                            <option value="Masculino">Masculino</option>
                            <option value="Femenino">Femenino</option>
                            <option value="Otro">Otro</option>
                        </select>
                        <label for="floatingSexo">Genero <span
                                class="text-danger">*</span></label>
                        <div class="invalid-feedback">Seleccione un sexo.</div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-floating">
                        <select class="form-select" id="floatingDelito"
                            name="txtDelito" required>
                            <option value disabled selected>Seleccionar Tipo de
                                Delito</option>
                            <option value="Robo">Robo</option>
                            <option value="Hurto">Hurto</option>
                        </select>
                        <label for="floatingDelito">Tipo de Delito <span
                                class="text-danger">*</span></label>
                        <div class="invalid-feedback">Seleccione un tipo de
                            delito.</div>
                    </div>

                </div>
                <div class="col-md-3">
                    <div class="form-floating">
                        <select class="form-select" id="floatingVehiculo"
                            name="txtVehiculo" required>
                            <option value disabled selected>Seleccionar Tipo de
                                Vehículo</option>
                            <option value="Motocicleta">Motocicleta</option>
                            <option value="Cuatrimoto">Cuatrimoto</option>
                            <option value="Automovil">Automovil</option>
                            <option value="Pick-Up">Pick-Up</option>
                            <option value="Camioneta">Camioneta</option>
                            <option value="Camion">Camion</option>
                            <option value="Rastra">Rastra</option>
                            <option value="Cabezal">Cabezal</option>
                            <option value="Tractor">Tractor</option>
                            <option value="Otro">Otro</option>
                            <!-- Agrega más opciones de vehículos terrestres aquí -->
                        </select>
                        <label for="floatingVehiculo">Tipo de Vehículo <span
                                class="text-danger">*</span></label>
                        <div class="invalid-feedback">Seleccione un tipo de
                            vehículo.</div>
                    </div>

                </div>
            </div>
            <!-- Cuarta Fila -->
            <div class="form-row ">
                <div class="col-md-3">
                    <div class="form-floating">
                        <input type="text" class="form-control"
                            id="floatingPlaca" name="txtPlaca"
                            placeholder="Ejemplo: ABC-123"
                            pattern="^[A-Za-z0-9\s-]+$|^$">
                        <label for="floatingPlaca">Placa</label>
                        <div class="invalid-feedback">Ingrese una placa válida
                            (letras, números, espacios y guiones).</div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-floating">
                        <input type="text" class="form-control"
                            id="floatingModelo" name="txtModelo"
                            placeholder="Ejemplo: 2023"
                            pattern="^\d{4}$|^$"
                            required>
                        <label for="floatingModelo">Modelo (Año)</label>
                        <div class="invalid-feedback">Ingrese un modelo válido
                            de 4 dígitos (ej. 2023) o deje este campo vacío.</div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-floating">
                        <input type="text" class="form-control"
                            id="floatingMarca" name="txtMarca"
                            placeholder="Ejemplo: Toyota"
                            pattern="^[A-Za-z0-9\s]+$|^$"
                            required>
                        <label for="floatingMarca">Marca</label>
                        <div class="invalid-feedback">Ingrese una marca válida
                            (solo letras, números y espacios) o deje este campo
                            vacío.</div>
                    </div>
                </div>
            </div>
            <!--Quinta Fila-->
            <div class="form-row ">
                <div class="col-md-3">
                    <div class="form-floating">
                        <input type="text" class="form-control"
                            id="floatingColor" name="txtColor"
                            placeholder="Ejemplo: Rojo"
                            pattern="^[A-Za-z\s]+$|^$"
                            required>
                        <label for="floatingColor">Color</label>
                        <div class="invalid-feedback">Ingrese un color válido
                            (solo letras y espacios) o deje este campo vacío.</div>
                    </div>
                </div>
                <div class="col-md-3">

                </div>
                <div class="col-md-3">
                    <!--Nueva Caja-->
                </div>
            </div>
            <!--Botones-->
            <div>
                <a href="/vehiculos" onclick="return validarCampos()">
                    <button type="submit" class="btn btn-primary">
                        Registrar
                    </button>
                </a>

                <a href="/vehiculos" class="btn btn-secondary">Cancelar</a>
                {% with messages = get_flashed_messages() %}
                {% if messages %}
                <div class="alert alert-info"
                    style="margin: 20px 0; text-align: center;">
                    {% for message in messages %}
                    {{ message }}
                    {% endfor %}
                </div>
                {% endif %}
                {% endwith %}

            </div>
        </form>
    </div>

    <div class="container">
        <h2 class="my-4">Lista de Vehículos y Motocicletas Robadas</h2>
        <table class="table table-dark">
            <!-- Agregamos la clase 'table-dark' para el fondo oscuro -->
            <thead>
                <tr>
                    <th scope="col">Fecha</th>
                    <th scope="col">Hora</th>
                    <th scope="col">Direccion</th>
                    <th scope="col">Coordenadas</th>
                    <th scope="col">Nombre de la Victima</th>
                    <th scope="col">Edad</th>
                    <th scope="col">Sexo</th>
                    <th scope="col">Delito</th>
                    <th scope="col">Vehiculo</th>
                    <th scope="col">Placa</th>
                    <th scope="col">Modelo</th>
                    <th scope="col">Marca</th>
                    <th scope="col">Color</th>
                    <th scope="col">Acciones</th>
                </tr>
            </thead>
            <tbody>
                <!-- Aquí puedes generar filas de la tabla con los datos de tu base de datos -->
                {% for vehiculo in vehiculos %}
                <tr>
                    <td>{{vehiculo.Fecha}}</td>
                    <td>{{vehiculo.Hora}}</td>
                    <td>{{vehiculo.Direccion}}</td>
                    <td>{{vehiculo.Coordenadas}}</td>
                    <td>{{vehiculo.Nombre}}</td>
                    <td>{{vehiculo.Edad}}</td>
                    <td>{{vehiculo.Sexo}}</td>
                    <td>{{vehiculo.Delito}}</td>
                    <td>{{vehiculo.Tipo}}</td>
                    <td>{{vehiculo.Placa}}</td>
                    <td>{{vehiculo.Modelo}}</td>
                    <td>{{vehiculo.Marca}}</td>
                    <td>{{vehiculo.Color}}</td>
                    <td>
                        <div
                            class="d-flex justify-content-center align-items-center">
                            <a href="/obtenerV/{{vehiculo.Id}}"
                                class="btn btn-warning mr-3">Editar</a>
                            <a href="/eliminarV/{{vehiculo.Id}}"
                                class="btn btn-danger ml-3">Eliminar</a>
                        </div>

                    </td>
                </tr>
                {% endfor %}
                <!-- ... puedes agregar más filas según tus usuarios -->
            </tbody>
        </table>
    </div>
</div>
<!-- Validación de campos js -->
<script
    src="{{ url_for('static', filename='javascript/validacion_Incidencia.js') }}"></script>

<!---Bosotrap-->
<script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"
    integrity="sha384-cm1FJCxeSri3l3z8nZea5T1MIg4Jy5c5fF5mi1rnl4g1by5Jp5FEh3Os2R5h5jJs6"
    crossorigin="anonymous"></script>

{% endblock %}